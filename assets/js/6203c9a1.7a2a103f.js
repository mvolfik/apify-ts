"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7217],{3905:(e,r,t)=>{t.d(r,{Zo:()=>c,kt:()=>g});var n=t(7294);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=n.createContext({}),p=function(e){var r=n.useContext(l),t=r;return e&&(t="function"==typeof e?e(r):i(i({},r),e)),t},c=function(e){var r=p(e.components);return n.createElement(l.Provider,{value:r},e.children)},d={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},u=n.forwardRef((function(e,r){var t=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(t),g=o,f=u["".concat(l,".").concat(g)]||u[g]||d[g]||a;return t?n.createElement(f,i(i({ref:r},c),{},{components:t})):n.createElement(f,i({ref:r},c))}));function g(e,r){var t=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=u;var s={};for(var l in r)hasOwnProperty.call(r,l)&&(s[l]=r[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=t[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}u.displayName="MDXCreateElement"},5290:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>l,default:()=>g,frontMatter:()=>s,metadata:()=>p,toc:()=>d});var n=t(7462),o=t(3366),a=(t(7294),t(3905)),i=["components"],s={id:"avoid-blocking",title:"Avoid getting blocked"},l=void 0,p={unversionedId:"guides/avoid-blocking",id:"guides/avoid-blocking",title:"Avoid getting blocked",description:"A Scraper might get blocked for numerous reasons. Let's narrow it down to two main reasons. The first one is a bad or blocked IP address. This topic is covered in the proxy management guide. The second reason we will explore more is browser fingerprints or signatures.",source:"@site/../docs/guides/avoid_blocking.mdx",sourceDirName:"guides",slug:"/guides/avoid-blocking",permalink:"/apify-ts/docs/guides/avoid-blocking",draft:!1,tags:[],version:"current",lastUpdatedBy:"Martin Ad\xe1mek",lastUpdatedAt:1654606074,formattedLastUpdatedAt:"6/7/2022",frontMatter:{id:"avoid-blocking",title:"Avoid getting blocked"},sidebar:"docs",previous:{title:"Running in Docker",permalink:"/apify-ts/docs/guides/docker-images"},next:{title:"Examples",permalink:"/apify-ts/docs/examples"}},c={},d=[],u={toc:d};function g(e){var r=e.components,t=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,n.Z)({},u,t,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"A Scraper might get blocked for numerous reasons. Let's narrow it down to two main reasons. The first one is a bad or blocked IP address. This topic is covered in the ",(0,a.kt)("a",{parentName:"p",href:"./proxy-management",target:null,rel:null},"proxy management guide"),". The second reason we will explore more is ",(0,a.kt)("a",{parentName:"p",href:"https://pixelprivacy.com/resources/browser-fingerprinting/",target:"_blank",rel:"noopener"},"browser fingerprints")," or signatures.\nBrowser fingerprint is a collection of browser attributes and significant features that can show if your browser is a bot or a real user. Moreover, even most browsers have these unique features that allow the website to track the browser even within different IP addresses. This is the main reason why scrapers should change browser fingerprints while doing browser-based scraping. In addition, it should reduce blocking significantly."),(0,a.kt)("p",null,"Changing browser fingerprints can be a tedious job. Luckily, Crawlee provides this feature out of the box with zero configuration necessary. Let's take a look at how it is done."),(0,a.kt)("p",null," Changing browser fingerprints is available in ",(0,a.kt)("inlineCode",{parentName:"p"},"PlaywrightCrawler")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"PuppeteerCrawler"),". You have to pass the ",(0,a.kt)("inlineCode",{parentName:"p"},"useFingerprints")," option to the ",(0,a.kt)("inlineCode",{parentName:"p"},"browserPoolOptions"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"import { PlaywrightCrawler } from '@crawlee/playwright';\n\nconst crawler = new PlaywrightCrawler({\n   browserPoolOptions: {\n       useFingerprints: true,\n   },\n   // ...\n})\n")),(0,a.kt)("p",null,"Now, it is all set. The fingerprints are going to be generated for the default browser and the operating system. The Crawler can have the generation algorithm customized to reflect particular browser version and many more. Let's take a look at the example bellow:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"import { PlaywrightCrawler } from '@crawlee/playwright';\n\nconst crawler = new PlaywrightCrawler({\n   browserPoolOptions: {\n       useFingerprints: true,\n       fingerprintOptions: {\n           fingerprintGeneratorOptions: {\n               browsers: [\n                   { name: 'firefox', minVersion: 80 },\n                   { name: 'chrome', minVersion: 87 },\n                   'safari',\n               ],\n               devices: [\n                   'desktop',\n               ],\n               operatingSystems: [\n                   'windows',\n               ],\n           },\n       },\n   },\n   // ...\n})\n")),(0,a.kt)("p",null," Fingerprint generator has more options available check out the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/apify/fingerprint-generator#HeaderGeneratorOptions",target:"_blank",rel:"noopener"},"Fingerprint generator docs"),"."))}g.isMDXComponent=!0}}]);